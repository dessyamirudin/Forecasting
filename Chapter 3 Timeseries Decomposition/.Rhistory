library(fpp3)
global_economy %>%
filter(Country=="Australia") %>%
autoplot(GDP/Population)+labs(title="GDP Per Capita",y="$US")
head(aus_retail)
# aus retail
print_retail <- aus_retail %>%
filter(Industry=="Newspaper and book retailing") %>%
group_by(Industry) %>%
index_by(Year=year(Month)) %>%
summarise(Turnover=sum(Turnover))
View(print_retail)
# aus retail
print_retail <- aus_retail %>%
filter(Industry=="Newspaper and book retailing") %>%
group_by(Industry) %>%
#index_by(Year=year(Month)) %>%
summarise(Turnover=sum(Turnover))
View(print_retail)
# aus retail
print_retail <- aus_retail %>%
filter(Industry=="Newspaper and book retailing") %>%
group_by(Industry) %>%
index_by(Year=year(Month)) %>%
summarise(Turnover=sum(Turnover))
aus_economy <- global_economy %>% filter(Code=="AUS")
View(aus_economy)
print_retail %>%
lef_join(aus_economy,by="Year") %>%
mutate(Adjusted_turnover=Turnover/CPI*100)
%>%
pivot_longer(c(Turnover,Adjusted_turnover),values_to = Turnover)
print_retail %>%
lef_join(aus_economy,by="Year") %>%
mutate(Adjusted_turnover=Turnover/CPI*100)
print_retail %>%
left_join(aus_economy,by="Year") %>%
mutate(Adjusted_turnover=Turnover/CPI*100)
View(print_retail)
print_retail %>%
left_join(aus_economy,by="Year") %>%
mutate(Adjusted_turnover=Turnover/CPI*100)
View(aus_economy)
print_retail %>%
left_join(aus_economy,by="Year") %>%
mutate(Adjusted_turnover=Turnover/CPI*100) %>%
pivot_longer(c(Turnover,Adjusted_turnover),values_to = Turnover)
library(fpp3)
print_retail %>%
left_join(aus_economy,by="Year") %>%
mutate(Adjusted_turnover=Turnover/CPI*100) %>%
pivot_longer(c(Turnover,Adjusted_turnover),values_to = "Turnover")
print_retail %>%
left_join(aus_economy,by="Year") %>%
mutate(Adjusted_turnover=Turnover/CPI*100) %>%
pivot_longer(c(Turnover,Adjusted_turnover),values_to = "Turnover") %>%
mutate(name=factor(name,levels=c("Turnover","Adjusted_turnover"))) %>%
ggplot(aes(x=Year,y=Turnover))+
geom_line()+
facet_grid(name~.,scales="free_y")+
labs(title="Turnover: Australia print media industry",y="$AU")
View(aus_economy)
# lambda
lambda <- aus_production %>%
features(Gas,features=guerrero) %>%
pull(lambda_guerrero)
aus_production %>% autoplot(box_cox(Gas,lambda))+
labs(y="",
title=latex2exp::TeX(paste0("Transformed gas production with $\\lambda$=",round(lambda,2)))
)
library(latex2exp)
install.packages("latex2exp")
library(latex2exp)
aus_production %>% autoplot(box_cox(Gas,lambda))+
labs(y="",
title=latex2exp::TeX(paste0("Transformed gas production with $\\lambda$=",round(lambda,2)))
)
library(fpp3)
# Time Series Component
us_retail_employment = us_employment %>%
filter(year(Month)>=1990,Title=="Retail Trade") %>%
select(-Series_ID)
View(us_retail_employment)
View(us_retail_employment)
autoplot(us_retail_employment,Employed)+
labs(y="person(thousands)",title="Total Employment in US Retail")
dcmp = us_retail_employment %>% model(stl=STL(Employed))
components(dcmp)
View(dcmp)
components(dcmp) %>%
as_tsibble() %>%
autoplot(Employed, colour = "gray")+
geom_line(aes(y=trend),colour="#D55E00")+
labs(y="Persons (thousand)",title="Total employment in US retail")
components(dcmp) %>% autoplot()
View(us_retail_employment)
# Seasonal adjusted data
components(dcmp) %>%
as_tsibble() %>%
autoplot(Employed,colour="gray")+
geom_line(aes(y=season_adjust), colour="#0072B2")+
labs(y="Person (thousand)",title="Total Employment in US retail")
# Moving Average
global_economy %>%
filter(Country=="Australia") %>%
autoplot(Exports) + labs(y="% of GDP",title="Total Australian Export")
aus_exports=global_economy %>%
filter(Country=="Australia") %>%
mutate(
`5-MA`=slider::slide_dbl(Exports,mean,.before=2,.after=2,.complete=TRUE)
)
View(aus_exports)
aus_exports %>% autoplot(Exports)+
geom_line(aes(y=`5-MA`),colour="#D55E00")+
labs(y="% GDP",
title="Total Australian Export")+
guides(colour=guide_legend(title="series"))
